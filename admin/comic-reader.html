<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>စာအုပ်ဖတ်ရန် - Bumal YotePya</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .reader-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 20px;
            background: white;
            min-height: 100vh;
        }
        
        .reader-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .pdf-viewer {
            width: 100%;
            height: 80vh;
            border: none;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .back-btn {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 25px;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="reader-container">
        <a href="index.html" class="back-btn">← ပင်မစာမျက်နှာသို့</a>
        
        <div class="reader-header">
            <h1 id="readerTitle">စာအုပ်ဖတ်ရန်</h1>
            <p id="readerDescription">PDF Viewer</p>
        </div>
        
        <iframe id="pdfViewer" class="pdf-viewer" src=""></iframe>
    </div>

    <script>
        // URL parameter ကနေ comic ID ဖတ်မယ်
        const urlParams = new URLSearchParams(window.location.search);
        const comicId = urlParams.get('id');
        
        if (comicId) {
            // localStorage ကနေ comic data ဖတ်မယ်
            const savedComics = localStorage.getItem('bumalYotePyaComics');
            if (savedComics) {
                const comics = JSON.parse(savedComics);
                const comic = comics.find(c => c.id == comicId);
                
                if (comic) {
                    document.getElementById('readerTitle').textContent = comic.title;
                    document.getElementById('readerDescription').textContent = comic.description;
                    
                    if (comic.pdfUrl) {
                        // Google Drive PDF embed
                        const pdfUrl = comic.pdfUrl.replace('/view', '/preview');
                        document.getElementById('pdfViewer').src = pdfUrl;
                    } else {
                        document.getElementById('pdfViewer').src = 'about:blank';
                    }
                }
            }
        }
    </script>
</body>
</html>